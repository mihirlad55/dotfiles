\lstdefinelanguage
   [avr]{Assembler}
  {morekeywords=[1]{adc,add,adiw,and,andi,asr,bclr,bld,brbc,brbs,brcc,brcs,break,
   					breq,brge,brhc,brhs,brid,brie,brlo,brlt,brmi,brne,brpl,brsh,
                    brtc,brts,brvc,brvs,bset,bst,call,cbi,cbr,clc,clh,cli,cln,clr,cls
                    clt,clv,clz,com,cp,cpc,cpi,cpse,dec,eicall,eijmp,elpm,eor,fmul,
                    fmuls,fmulsu,icall,ijmp,in,inc,jmp,ld,ldd,ldi,lds,lpm,lsl,lsr,
                    mov,movw,mul,muls,mulsu,neg,nop,or,ori,out,pop,push,rcall,ret,
                    reti,rjmp,rol,ror,sbc,sbci,sbi,sbic,sbis,sbiw,sbr,sbrc,sbrs,sec,
                    seh,sei,sen,ser,set,sev,sez,sleep,spm,st,std,sts,sub,subi,swap
                    tst,wdr},%
 morekeywords=[2]{X,Y,Z,r0,r1,r2,r3,r4,r5,r6,r7,r8,r9,r10,r11,r12,r13,r14,
                r15,r16,r17,r18,r19,r20,r21,r22,r23,r24,r25,r26,r27,r28,r29,
                r30,r31,
                @0,@1,@2,@3,@4,@5,@6,@7,@8,@9,
                 UDR0, UBRR0L, UBRR0H, UCSR0C, UCSR0B, UCSR0A, TWAMR, TWCR, TWDR,
				TWAR, TWSR, TWBR, ASSR, OCR2B, OCR2A, TCNT2, TCCR2B, TCCR2A, OCR1BL,
				OCR1BH, OCR1AL, OCR1AH, ICR1L, ICR1H, TCNT1L, TCNT1H, TCCR1C, TCCR1B,
				TCCR1A, DIDR1, DIDR0, ADMUX, ADCSRB, ADCSRA, ADCH, ADCL, TIMSK2,
				TIMSK1, TIMSK0, PCMSK1, PCMSK2, PCMSK0, EICRA, PCICR, OSCCAL, PRR,
				CLKPR, WDTCSR, SREG, SPL, SPH, SPMCSR, MCUCR, MCUSR, SMCR, ACSR, 
				SPDR, SPSR, SPCR, GPIOR2, GPIOR1, OCR0B, OCR0A, TCNT0, TCCR0B, TCCR0A,
				GTCCR, EEARH, EEARL, EEDR, EECR, GPIOR0, EIMSK, EIFR, PCIFR, TIFR2,
				TIFR1, TIFR0, PORTD, DDRD, PIND, PORTC, DDRC, PINC, PORTB, DDRB, PINB,
   				 UDR0_0,UDR0_1,UDR0_2,UDR0_3,UDR0_4,UDR0_5,UDR0_6,UDR0_7,
				MPCM0,U2X0,UPE0,DOR0,FE0,UDRE0,TXC0,RXC0,
				TXB80,RXB80,UCSZ02,TXEN0,RXEN0,UDRIE0,TXCIE0,RXCIE0,
				UCPOL0,UCSZ00,UCPHA0,UCSZ01,UDORD0,USBS0,UPM00,UPM01,UMSEL00,UMSEL0,UMSEL01,UMSEL1,
				UBRR8,UBRR9,UBRR10,UBRR11,
				UBRR0,UBRR1,UBRR2,UBRR3,UBRR4,UBRR5,UBRR6,UBRR7,
				TWAM0,TWAMR0,TWAM1,TWAMR1,TWAM2,TWAMR2,TWAM3,TWAMR3,TWAM4,TWAMR4,TWAM5,TWAMR5,
				TWAM6,TWAMR6,
				TWBR0,TWBR1,TWBR2,TWBR3,TWBR4,TWBR5,TWBR6,TWBR7,
				TWIE,TWEN,TWWC,TWSTO,TWSTA,TWEA,TWINT,
				TWPS0,TWPS1,TWS3,TWS4,TWS5,TWS6,TWS7,
				TWD0,TWD1,TWD2,TWD3,TWD4,TWD5,TWD6,TWD7,
				TWGCE,TWA0,TWA1,TWA2,TWA3,TWA4,TWA5,TWA6,
				TOIE1,OCIE1A,OCIE1B,ICIE1,
				TOV1,OCF1A,OCF1B,ICF1,
				WGM10,WGM11,COM1B0,COM1B1,COM1A0,COM1A1,
				CS10,CS11,CS12,WGM12,WGM13,ICES1,ICNC1,
				FOC1B,FOC1A,
				PSRSYNC,TSM,
				TOIE2,TOIE2A,OCIE2A,OCIE2B,
				TOV2,OCF2A,OCF2B,
				WGM20,WGM21,COM2B0,COM2B1,COM2A0,COM2A1,
				CS20,CS21,CS22,WGM22,FOC2B,FOC2A,
				TCNT2_0,TCNT2_1,TCNT2_2,TCNT2_3,TCNT2_4,TCNT2_5,TCNT2_6,TCNT2_7,
				OCR2A_0,OCR2A_1,OCR2A_2,OCR2A_3,OCR2A_4,OCR2A_5,OCR2A_6,OCR2A_7,
				OCR2B_0,OCR2B_1,OCR2B_2,OCR2B_3,OCR2B_4,OCR2B_5,OCR2B_6,OCR2B_7,
				TCR2BUB,TCR2AUB,OCR2BUB,OCR2AUB,TCN2UB,AS2,EXCLK,
				PSRASY,PSR2,TSM,
				MUX0,MUX1,MUX2,MUX3,ADLAR,REFS0,REFS1,
				ADPS0,ADPS1,ADPS2,ADIE,ADIF,ADATE,ADSC,ADEN,
				ADTS0,ADTS1,ADTS2,ACME,
				ADCH0,ADCH1,ADCH2,ADCH3,ADCH4,ADCH5,ADCH6,ADCH7,
				ADCL0,ADCL1,ADCL2,ADCL3,ADCL4,ADCL5,ADCL6,ADCL7,
				ADC0D,ADC1D,ADC2D,ADC3D,ADC4D,ADC5D,
				ACIS0,ACIS1,ACIC,ACIE,ACI,ACO,ACBG,ACD,
				AIN0D,AIN1D,
				PORTB0,PB0,PORTB1,PB1,PORTB2,PB2,PORTB3,PB3,
				PORTB4,PB4,PORTB5,PB5,PORTB6,PB6,PORTB7,PB7,
				DDB0,DDB1,DDB2,DDB3,DDB4,DDB5,DDB6,DDB7,
				PINB0,PINB1,PINB2,PINB3,PINB4,PINB5,PINB6,PINB7,
				PORTC0,PC0,PORTC1,PC1,PORTC2,PC2,PORTC3,PC3,
				PORTC4,PC4,PORTC5,PC5,PORTC6,PC6,
				DDC0,DDC1,DDC2,DDC3,DDC4,DDC5,DDC6,
				PINC0,PINC1,PINC2,PINC3,PINC4,PINC5,PINC6,
				PORTD0,PD0,PORTD1,PD1,PORTD2,PD2,PORTD3,PD3,
				PORTD4,PD4,PORTD5,PD5,PORTD6,PD6,PORTD7,PD7,
				DDD0,DDD1,DDD2,DDD3,DDD4,DDD5,DDD6,DDD7,
				PIND0,PIND1,PIND2,PIND3,PIND4,PIND5,PIND6,PIND7,
				TOIE0,OCIE0A,OCIE0B,
				TOV0,OCF0A,OCF0B,
				WGM00,WGM01,COM0B0,COM0B1,COM0A0,COM0A1,
				CS00,CS01,CS02,WGM02,FOC0B,FOC0A,
				TCNT0_0,TCNT0_1,TCNT0_2,TCNT0_3,TCNT0_4,TCNT0_5,TCNT0_6,TCNT0_7,
				OCR0A_0,OCR0A_1,OCR0A_2,OCR0A_3,OCR0A_4,OCR0A_5,OCR0A_6,OCR0A_7,
				OCR0B_0,OCR0B_1,OCR0B_2,OCR0B_3,OCR0B_4,OCR0B_5,OCR0B_6,OCR0B_7,
				PSRSYNC,PSR10,TSM,
				ISC00,ISC01,ISC10,ISC11,
				INT0,INT1,
				INTF0,INTF1,
				PCIE0,PCIE1,PCIE2,
				PCINT16,PCINT17,PCINT18,PCINT19,PCINT20,PCINT21,PCINT22,PCINT23,
				PCINT8,PCINT9,PCINT10,PCINT11,PCINT12,PCINT13,PCINT14,
				PCINT0,PCINT1,PCINT2,PCINT3,PCINT4,PCINT5,PCINT6,PCINT7,
				PCIF0,PCIF1,PCIF2,
				SPDR0,SPDR1,SPDR2,SPDR3,SPDR4,SPDR5,SPDR6,SPDR7,
				SPI2X,WCOL,SPIF,
				SPR0,SPR1,CPHA,CPOL,MSTR,DORD,SPE,SPIE,
				WDP0,WDP1,WDP2,WDE,WDCE,WDP3,WDIE,WDIF,
				SREG_C,SREG_Z,SREG_N,SREG_V,SREG_S,SREG_H,SREG_T,SREG_I,
				CAL0,CAL1,CAL2,CAL3,CAL4,CAL5,CAL6,CAL7,
				CLKPS0,CLKPS1,CLKPS2,CLKPS3,CLKPCE,
				SELFPRGEN,PGERS,PGWRT,BLBSET,RWWSRE,RWWSB,SPMIE,
				IVCE,IVSEL,PUD,BODSE,BODS,
				PORF,EXTRF,EXTREF,BORF,WDRF,
				SE,SM0,SM1,SM2,
				GPIOR20,GPIOR21,GPIOR22,GPIOR23,GPIOR24,GPIOR25,GPIOR26,GPIOR27,
				GPIOR10,GPIOR11,GPIOR12,GPIOR13,GPIOR14,GPIOR15,GPIOR16,GPIOR17,
				GPIOR00,GPIOR01,GPIOR02,GPIOR03,GPIOR04,GPIOR05,GPIOR06,GPIOR07,
				PRADC,PRUSART0,PRSPI,PRTIM1,PRTIM0,PRTIM2,PRTWI,
				EEAR0,EEAR1,EEAR2,EEAR3,EEAR4,EEAR5,EEAR6,EEAR7,
				EEAR8,EEAR9,
				EEDR0,EEDR1,EEDR2,EEDR3,EEDR4,EEDR5,EEDR6,EEDR7,
				EERE,EEPE,EEMPE,EERIE,EEPM0,EEPM1,
				FLASHEND,IOEND,SRAM_START,SRAM_SIZE,RAMEND,XRAMEND,E2END,EEPROMEND,EEADRBITS,
				NRWW_START_ADDR,NRWW_STOP_ADDR,RWW_START_ADDR,RWW_STOP_ADDR,PAGESIZE,FIRSTBOOTSTART,
    			SECONDBOOTSTART,THIRDBOOTSTART,FOURTHBOOTSTART,SMALLBOOTSTART,LARGEBOOTSTART,
				INT0addr,INT1addr,PCI0addr,PCI1addr,PCI2addr,WDTaddr,OC2Aaddr,OC2Baddr,OVF2addr,
				ICP1addr,OC1Aaddr,OC1Baddr,OVF1addr,OC0Aaddr,OC0Baddr,OVF0addr,SPIaddr,URXCaddr,
				UDREaddr,UTXCaddr,ADCCaddr,ERDYaddr,ACIaddr,TWIaddr,SPMRaddr,
				INT_VECTORS_SIZE
},%
 morekeywords=[3]{org,def,equ,db,include,dseg,cseg,eseg,macro,endmacro,list,nolist,listmac},%
    morecomment=[l]{//}, %
    morecomment=[l]{;}, %
    morecomment=[s]{/*}{*/}, %
    morestring=[b]" %
    alsoletter=., %
    sensitive=false %
}[keywords,comments,strings] %
